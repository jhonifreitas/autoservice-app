<ion-header>
  <ion-toolbar color="secondary">
    <ion-buttons slot="start">
      <ion-button (click)="goToBack()">
        <ion-icon slot="start" name="arrow-back"></ion-icon>
        Voltar
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content color="secondary" class="ion-padding">
  <div class="vertical-align">
    <ion-card>
      <ion-card-content>
        <div class="header ion-text-center">
          <ion-avatar>
            <img [src]="photo ? photo : 'assets/user.png'" alt="">
            <ion-fab-button color="tertiary" size="small" (click)="takePhoto()">
              <ion-icon name="camera"></ion-icon>
            </ion-fab-button>
          </ion-avatar>
        </div>
        <div class="text ion-text-center">
          <ion-text color="tertiary"><h2 class="title">Crie seu perfil</h2></ion-text>
          <p>Complete os campos abaixo com suas informações</p>
        </div>

        <form [formGroup]="form" (ngSubmit)="save()" class="ion-padding-horizontal ion-padding-top">
          <ion-item>
            <ion-label position="floating" color="dark">Nome</ion-label>
            <ion-input type="text" formControlName="name" class="font-weight-bold"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="form.get('name').value && form.get('name').hasError('invalid')">
            <ion-label color="danger" class="ion-no-margin"><small>Nome deve conter nome e sobrenome!</small></ion-label>
          </ion-item>

          <ion-item>
            <ion-label position="floating" color="dark">Email</ion-label>
            <ion-input type="email" formControlName="email" class="font-weight-bold"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating" color="dark">Telefone</ion-label>
            <ion-input type="text" formControlName="phone" class="font-weight-bold" [brmasker]="{phone: true}" maxlength="15"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating" color="dark">Crie sua senha</ion-label>
            <ion-input type="password" formControlName="password" class="font-weight-bold"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating" color="dark">Confirmar sua senha</ion-label>
            <ion-input type="password" formControlName="confirmPass" class="font-weight-bold"></ion-input>
          </ion-item>
          <ion-item lines="none" *ngIf="form.get('password').value && form.get('confirmPass').value && form.hasError('passNotSame')">
            <ion-label color="danger">As senhas não coincidem!</ion-label>
          </ion-item>

          <div class="ion-padding-horizontal">
            <ion-button type="submit" expand="block" color="dark" class="ion-margin-top" [disabled]="form.invalid">Cadastre-se</ion-button>
          </div>
        </form>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>
